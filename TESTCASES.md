TESTCASES.md

 Тест-кейсы для API объявлений

1. Создание объявления (test_create_listing)

- Название: Создание объявления
- ID: TC001
- Предусловие: API работает, существует валидный `sellerId`
- Шаги:
  1. Отправить POST-запрос на `/item` с телом запроса:
     ```json
     {
       "name": "Телефон",
       "price": 85566,
       "sellerId": "<SELLER_ID>",
       "statistics": {
         "contacts": 32,
         "like": 35,
         "viewCount": 14
       }
     }
     ```
  2. Проверить статус ответа.
  3. Извлечь ID созданного объявления из ответа.
- Ожидаемый результат:
  - Статус ответа: `200 OK`.
  - В теле ответа присутствует строка: `"Сохранили объявление - <ID>"`, где `<ID>` — это уникальный идентификатор объявления.
- Фактический результат: Сервер возвращает статус `200`, в ответе присутствует сообщение с ID объявления.
- Задачи: Извлечь ID объявления из строки `"Сохранили объявление - <ID>"`.

---

2. Получение объявления по ID (test_get_listing_by_id)

- Название: Получение объявления по ID
- ID: TC002
- Предусловие: Существует объявление с заданным `ID`
- Шаги:
  1. Отправить GET-запрос на `/item/<ID>` с корректным идентификатором.
  2. Проверить статус ответа.
  3. Убедиться, что в теле ответа содержится корректная информация о созданном объявлении.
- Ожидаемый результат:
  - Статус ответа: `200 OK`.
  - В теле ответа содержится объект с полями `name`, `price`, `sellerId`, `statistics` и т.д.
- Фактический результат: Если объявление существует, сервер возвращает данные по объявлению.
- Задачи: Подготовить валидный `ID` из теста на создание объявления.

---

3. Получение всех объявлений по продавцу (test_get_all_listings_by_seller)

- Название: Получение всех объявлений по продавцу
- ID: TC003
- Предусловие: Существуют объявления, созданные одним продавцом.
- Шаги:
  1. Отправить GET-запрос на `/api/1/<sellerID>/item`.
  2. Проверить статус ответа.
  3. Убедиться, что в теле ответа содержатся объекты объявлений.
- Ожидаемый результат:
  - Статус ответа: `200 OK`.
  - В теле ответа содержится список объявлений данного продавца.
- Фактический результат: Запрос возвращает все объявления продавца корректно.


---

4. Создание объявления с некорректными данными (test_create_listing_invalid_data)

- Название: Создание объявления с некорректными данными
- ID: TC004
- Предусловие: API работает, существует валидный `sellerId`
- Шаги: 

  1. Отправить POST-запрос на `/item` с телом запроса, в котором отсутствует обязательное поле `price`:
     ```json
     {
       "name": "Телефон",
       "sellerId": "<SELLER_ID>",
       "statistics": {
         "contacts": 32,
         "like": 35,
         "viewCount": 14
       }
     }
     ```
     
  2. Проверить статус ответа.
- Ожидаемый результат:
  - Статус ответа: `400 Bad Request`.
  - В теле ответа содержится сообщение об ошибке валидации, указывающее на отсутствие поля `price`.
- Фактический результат: Сервер возвращает `200 OK`, что является некорректным поведением.
- Задачи: Исправить обработку ошибок на серверной стороне для некорректных данных.

---

5. Получение объявления с несуществующим ID (test_get_listing_invalid_id)

- Название: Получение объявления с несуществующим ID
- ID: TC005
- Предусловие: API работает, но указанный ID не существует.
- Шаги:
  1. Отправить GET-запрос на `/item/<INVALID_ID>` с несуществующим идентификатором.
  2. Проверить статус ответа.
  3. Убедиться, что в теле ответа содержится сообщение об ошибке.
- Ожидаемый результат:
  - Статус ответа: `404 Not Found`.
  - В теле ответа содержится объект с сообщением об ошибке (например, `"item not found"`).
- Фактический результат: Сервер корректно возвращает статус `404` с соответствующим сообщением.

---

Итоги

- Всего тестов: 5
- Пройдено успешно: 3
- Неуспешно: 2
- Проблемы: Некорректный статус код и обработка отсутствующих полей на сервере при создании объявления.
