

## Проект: Тестирование API микросервиса

Этот проект содержит тесты для API объявлений. Тесты написаны на Python с использованием библиотеки `pytest` для тестирования создания, получения объявлений и валидации данных. 

### Структура проекта

- tests/test_api.py — основной файл с тестами для API.
- TESTCASES.md — описание тест-кейсов, включающее шаги, ожидаемые результаты и фактические результаты.
- BUGS.md — баг-репорты

### Установка

1. Клонируйте репозиторий
   
2. Перейдите в директорию проекта:

cd repository

3. Создайте и активируйте виртуальное окружение (рекомендуется):

python -m venv venv
venv\Scripts\activate  # Windows

### Запуск тестов

1. Для запуска всех тестов используйте команду:

pytest

Вывод покажет информацию о прохождении/падении тестов, а также подробные сообщения об ошибках.

### Описание тестов

1. test_create_listing
Тестирует создание объявления с валидными данными. Ожидается успешное создание объявления и возврат статуса 200 OK.

2. test_get_listing_by_id
Тестирует получение объявления по существующему ID. Ожидается успешное получение данных объявления.

3. test_get_all_listings_by_seller
Тестирует получение всех объявлений, связанных с продавцом. Ожидается возврат списка объявлений для данного sellerId.

4. test_create_listing_invalid_data
Тестирует создание объявления с некорректными данными (без обязательного поля price). Ожидается возврат ошибки валидации со статусом 400 Bad Request.

5. test_get_listing_invalid_id
Тестирует получение объявления с несуществующим ID. Ожидается возврат ошибки со статусом 404 Not Found.

### Настройка переменных

Для корректной работы тестов необходимо задать следующие переменные:

1. BASE_URL — Базовый URL API: https://qa-internship.avito.com/api/1
2. SELLER_ID — Идентификатор продавца для создания и получения объявлений.

### Примеры использования

Пример запроса на создание объявления:

## POST /item

{
  "name": "Телефон",
  "price": 85566,
  "sellerId": 3452,
  "statistics": {
    "contacts": 32,
    "like": 35,
    "viewCount": 14
  }
}

Пример успешного ответа:

{
  "status": "Сохранили объявление - 85c9deb3-ed66-4c54-a1ce-f8531aad249b"
}
